jQuery(document).ready(function(e){e('input[name="file-upload"]').fileuploader({changeInput:'<div class="fileuploader-input"><div class="fileuploader-input-inner"><div class="fileuploader-icon-main"></div><h3 class="fileuploader-input-caption"><span>${captions.feedback}</span></h3><p>${captions.or}</p><button type="button" class="fileuploader-input-button"><span>Browse files</span></button></div></div>',theme:"dragdrop",captions:"de",upload:{url:frontend_uploader.ajax_url,data:{action:"frontend_upload_file",nonce:frontend_uploader.frontend_uploader_nonce,library:e("#file-upload").attr("data-library"),status:e("#file-upload").attr("data-status")},type:"POST",enctype:"multipart/form-data",start:!0,synchron:!0,beforeSend:"",onSuccess:function(e,n){var a={};if((e=JSON.parse(e))?a=e:a.hasWarnings=!0,a.isSuccess&&a.files[0]&&(n.name=a.files[0].name,n.html.find(".column-title > div:first-child").text(a.files[0].name).attr("title",a.files[0].name)),a.hasWarnings){for(var t in a.warnings)alert(a.warnings[t]);return n.html.removeClass("upload-successful").addClass("upload-failed"),this.onError?this.onError(n):null}n.html.find(".fileuploader-action-remove").addClass("fileuploader-action-success"),setTimeout(function(){n.html.find(".progress-bar2").fadeOut(400)},400),"on"===frontend_uploader.reload&&window.location.reload()},onError:function(e){var n=e.html.find(".progress-bar2");n.length&&(n.find("span").html("0%"),n.find(".fileuploader-progressbar .bar").width("0%"),e.html.find(".progress-bar2").fadeOut(400)),"cancelled"!=e.upload.status&&0==e.html.find(".fileuploader-action-retry").length&&e.html.find(".column-actions").prepend('<button type="button" class="fileuploader-action fileuploader-action-retry" title="Retry"><i class="fileuploader-icon-retry"></i></button>')},onProgress:function(e,n){var a=n.html.find(".progress-bar2");a.length>0&&(a.show(),a.find("span").html(e.percentage+"%"),a.find(".fileuploader-progressbar .bar").width(e.percentage+"%"))},onComplete:null},onRemove:function(n){e.ajax({type:"post",dataType:"json",url:frontend_uploader.ajax_url,data:{action:"frontend_delete_file",nonce:frontend_uploader.frontend_uploader_nonce,filename:n.name}})},captions:e.extend(!0,{},e.fn.fileuploader.languages.en,{feedback:frontend_uploader.translations[0],feedback2:frontend_uploader.translations[0],drop:frontend_uploader.translations[0],or:frontend_uploader.translations[1],button:frontend_uploader.translations[2]})})});